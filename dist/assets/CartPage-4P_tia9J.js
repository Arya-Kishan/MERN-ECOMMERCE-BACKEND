import{r as n,k as p,l as x,D as v,m as y,v as b,E as N,j as e,L as h,F as u,G as w,B as C,N as k}from"./index-ZFNVfenZ.js";function I({title:a,titleId:t,...d},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},d),a?n.createElement("title",{id:t},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const E=n.forwardRef(I),R=E;function L({title:a,titleId:t,...d},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},d),a?n.createElement("title",{id:t},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const S=n.forwardRef(L),q=S;function A(){const a=p(),t=x(v),d=x(y),{userId:l}=b(),[f,j]=n.useState(0);console.log("NAVBAR");const m=(s,i,r,o)=>{if(o=="minus"){let c={id:i,quantity:r.quantity-1};console.log(c),a(u(c))}if(o=="plus"){let c={id:i,quantity:r.quantity+1};console.log(c),a(u(c))}},g=s=>{a(w(s)),C("Cart Deleted")};return n.useEffect(()=>{if((t==null?void 0:t.length)>0){let i=t.map(r=>r.itemId.price*r.quantity).reduce((r,o)=>r+o);j(i)}},[t]),n.useEffect(()=>{a(N(l))},[l]),e.jsx("div",{children:t&&t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{role:"list",className:"-my-6 divide-y divide-gray-200",children:t==null?void 0:t.map(s=>e.jsxs("li",{className:"flex py-6",children:[e.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:e.jsx("img",{src:s.itemId.thumbnail,alt:s.itemId.title,className:"h-full w-full object-cover object-center"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[e.jsx("h3",{children:e.jsx("a",{href:"#",children:s.itemId.title})}),e.jsx("p",{className:"ml-4",children:s.itemId.price})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s.itemId.brand})]}),e.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[e.jsxs("p",{className:"text-gray-500 flex flex-row gap-2",children:[e.jsx(R,{className:"w-3 h-3",onClick:i=>{m(i,s._id,s,"minus")}}),e.jsx("span",{children:s.quantity}),e.jsx(q,{className:"w-3 h-3",onClick:i=>{m(i,s._id,s,"plus")}})]}),e.jsx("div",{className:"flex",children:e.jsx("button",{onClick:i=>g(s._id),type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Remove"})})]})]})]},s._id))})})}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("p",{children:["$",f]})]}),e.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:"Shipping and taxes calculated at checkout."}),e.jsx("div",{className:"mt-6",children:e.jsx(h,{to:`/order/${d._id}`,className:"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700",children:"Checkout"})}),e.jsx("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:e.jsxs("p",{children:["or"," ",e.jsxs(h,{to:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:["Continue Shopping",e.jsx("span",{"aria-hidden":"true",children:" â†’"})]})]})})]})]}):e.jsx(e.Fragment,{children:"NO ITEMS IN CART"})})}function M(){return e.jsx("div",{children:e.jsx(k,{children:e.jsx(A,{})})})}export{M as default};
