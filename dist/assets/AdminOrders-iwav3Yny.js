import{r as n,k as g,l as v,b0 as w,b1 as y,j as e,aY as c,aV as N,b2 as m,b3 as b}from"./index-ZFNVfenZ.js";import{d as O}from"./dayjs.min-r6Uj1Wjx.js";import{U as A}from"./UserCircleIcon-WB8GtYAj.js";function k({title:l,titleId:i,...r},d){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},r),l?n.createElement("title",{id:i},l):null,n.createElement("path",{d:"m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"}))}const C=n.forwardRef(k),I=C,E="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='w-6%20h-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M12%203c2.755%200%205.455.232%208.083.678.533.09.917.556.917%201.096v1.044a2.25%202.25%200%200%201-.659%201.591l-5.432%205.432a2.25%202.25%200%200%200-.659%201.591v2.927a2.25%202.25%200%200%201-1.244%202.013L9.75%2021v-6.568a2.25%202.25%200%200%200-.659-1.591L3.659%207.409A2.25%202.25%200%200%201%203%205.818V4.774c0-.54.384-1.006.917-1.096A48.32%2048.32%200%200%201%2012%203Z'%20/%3e%3c/svg%3e";function h(...l){return l.filter(Boolean).join(" ")}function $(){const l=g(),i=v(w),[r,d]=n.useState(-1);console.log(i);const u=(s,t,a)=>{const o=a.itemId.map((f,j)=>({itemId:f._id,quantity:a.totalQuantity[j].quantity}));let x={id:t,status:s,items:o};console.log(x),l(b(x))},p=s=>{switch(s){case"pending":return"bg-purple-200 text-purple-600";case"dispatched":return"bg-yellow-200 text-purple-600";case"delivered":return"bg-green-200 text-purple-600";case"cancelled":return"bg-red-200 text-purple-600";default:return"bg-purple-200 text-purple-600"}};return n.useEffect(()=>{l(y())},[]),e.jsxs("div",{className:"p-10",children:[e.jsxs("div",{className:"w-full flex justify-between m-2",children:[e.jsx("h1",{children:"ORDERS OF CLIENTS :"}),e.jsx("div",{children:e.jsxs(c,{as:"div",className:"relative ml-3",children:[e.jsx("div",{children:e.jsxs(c.Button,{className:"relative flex rounded-ful text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[e.jsx("span",{className:"absolute -inset-1.5"}),e.jsx("span",{className:"sr-only",children:"Open user menu"}),e.jsx("img",{className:"h-8 w-8 rounded-full",src:E,alt:""})]})}),e.jsx(N,{as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsxs(c.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[e.jsx(c.Item,{children:({active:s})=>e.jsx("li",{onClick:t=>{l(m("-1"))},className:h(s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Latest to Oldest"})}),e.jsx(c.Item,{children:({active:s})=>e.jsx("li",{onClick:t=>{l(m("1"))},className:h(s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Oldest to latest"})})]})})]})})]}),i&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:i.map(s=>e.jsxs("div",{className:"w-full] flex flex-col p-4 bg-slate-100",children:[e.jsxs("div",{className:"flex flex-col  gap-5 w-full justify-between items-start lg:flex-row",children:[e.jsx("div",{className:"flex flex-col",children:s.itemId.map((t,a)=>{var o;return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:"w-20 h-20",src:t.thumbnail,alt:""}),e.jsxs("div",{children:[e.jsx("h2",{children:t.title}),e.jsxs("p",{className:"text-gray-600",children:["$ ",t.price]}),e.jsxs("p",{children:["Quantity : ",(o=s.totalQuantity[a])==null?void 0:o.quantity]})]})]})},t._id)})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl",children:"Address : "}),s.selectedAddresses.map((t,a)=>e.jsxs("div",{children:[e.jsxs("p",{children:[t.street,",",t.city]}),e.jsxs("p",{children:[t.state,",",t.country]}),e.jsx("p",{children:t.pinCode})]},a))]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl flex items-center",children:[e.jsx(A,{className:"w-6 h-6 mr-1"}),"Client : "]}),s.selectedAddresses.map((t,a)=>e.jsxs("div",{children:[e.jsxs("p",{className:"flex items-center gap-2",children:[t.firstName,t.lastName]}),e.jsx("p",{children:t.email}),e.jsxs("p",{children:[t==null?void 0:t.phone,"7762883953"]})]},a))]})]}),e.jsxs("div",{className:"flex flex-col w-full justify-between p-2 bg-slate-200 items-center lg:flex-row",children:[e.jsxs("div",{className:"flex justify-between w-full gap-2 m-2",children:[e.jsx("p",{children:O(s.date).format("MMM DD, YYYY")}),e.jsx("p",{children:s.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between w-full gap-2 m-2",children:[e.jsxs("p",{children:["$ ",s.totalAmount]}),s._id!==r&&e.jsxs("div",{className:`flex ${p(s.status)} rounded-md items-center gap-3`,children:[s.status,e.jsx(I,{onClick:t=>d(s._id),className:"w-4 h-4 cursor-pointer"})]}),s._id==r&&e.jsxs("select",{name:"",id:"",onChange:t=>{d(-1),u(t.target.value,s._id,s)},children:[e.jsx("option",{value:`${s.status}`,children:s.status}),e.jsx("option",{value:"pending",children:"pending"}),e.jsx("option",{value:"delivered",children:"delivered"}),e.jsx("option",{value:"cancelled",children:"cancelled"}),e.jsx("option",{value:"dispatched",children:"dispatched"})]})]})]})]},s.AdminOrders_id))})})]})}export{$ as default};
